# 🚀 TaskCube 开发路线图 (Roadmap)

本文档记录了 TaskCube 项目的迭代历史、未来架构演进方向与功能开发计划。

**当前版本: v3.1.2**

---

## ✅ 已完成的里程碑

### 阶段一 ~ 九 (v2.1 - v2.9.0)
*   **状态**: ✅ 已全部上线
*   **核心成就**:
    *   **数据层与核心功能**: 实现了基于 Dexie 的本地数据库，支持任务、项目、周期性规则的完整 CRUD。
    *   **多视图系统**: 构建了日历、日视图、看板和表格四大核心视图。
    *   **效率工具**: 集成了全局指令面板 (Cmd+K) 和可自定义快捷键。
    *   **AI 助手**: 支持自然语言解析、任务拆解和项目规划。
    *   **UI/UX 优化**: 重构了表格视图的筛选器，采用弹窗式交互，提升了可用性和界面整洁度。
    *   **稳定性**: 修复了多个因处理旧版数据格式而导致的严重崩溃 Bug。

### 阶段十：性能大修 (v2.10.0)
*   **状态**: ✅ 已上线
*   **目标**: 解决应用在处理海量数据（500+ 任务）时的性能瓶颈，确保极致流畅。
*   **功能**:
    *   **列表视图虚拟化**: 在 `TableView` 中实现了列表虚拟化技术。现在，无论任务列表有多长，应用都只渲染屏幕上可见的少数几个 DOM 元素，并在滚动时进行复用。这从根本上解决了长列表滚动卡顿和内存占用过高的问题，为处理大规模数据奠定了基础。

### 阶段十二：功能深化与架构升级 (v3.1.2)
*   **状态**: ✅ 已上线
*   **核心目标**: 从“好用的待办”向“强大的个人项目管理工具”迈进，并彻底革新开发体验。
*   **功能**:
    *   **任务依赖关系 (Dependencies)**: 实现了“完成-开始”的前后置依赖关系。用户可以在任务详情中设置前置任务。被阻塞的任务将在所有视图中显示锁定图标 🔒，并且无法被标记为完成，为复杂的项目规划提供了坚实的基础。
    *   **零构建架构 (Zero-Build Architecture)**: 移除了所有本地构建依赖（Vite, Node.js），转向基于 `esm.sh/run` 和原生浏览器模块的运行时架构。开发门槛降至零，只需一个本地 Web 服务器即可运行和修改所有 TS/TSX 代码。

---

## 🗺️ 未来开发计划

### 阶段十一：AI 智能排程 (v3.2) - [计划中]

> **核心目标**: 让 AI 辅助用户决策，解决“时间俄罗斯方块”难题。

#### 1. AI 智能排程 (AI Smart Scheduling)
*   **目标**: 创建任务时，AI 可分析当天日程的空闲时段，并智能推荐一个最佳的开始时间。

### 阶段十三：功能深化 Part 2 (v3.3) - [计划中]

#### 1. 提醒与通知 (Reminders & Notifications)
*   **目标**: 为任务设置到期提醒。
*   **详情**: 利用浏览器 Notification API，在任务开始或截止前弹出系统级通知，确保用户不错过重要事项。

#### 2. 更丰富的反馈机制 (Toasts/Notifications)
*   **目标**: 对用户的操作给予即时、清晰的反馈。
*   **详情**: 在创建任务、保存成功等操作后，在屏幕角落弹出短暂的提示消息（如 "任务已保存"），提升流畅感和确定性。


---

## 🧠 阶段十四：AI 2.0 与智能化 (v3.4+) - [远期规划]

#### 1. 每日智能简报 (Smart Agenda)
*   **目标**: 让应用从“工具”变为“智能助理”。
*   **详情**: AI 每天自动分析当日任务、项目DDL及昨日未完成事项，生成一份“今日建议关注”列表，并给出执行建议。

#### 2. 上下文感知 AI (Context-Aware AI)
*   **目标**: 让 AI 的建议更精准、更具个性化。
*   **详情**: 在 AI 请求中注入更多上下文。例如，创建任务时检测到时间冲突并主动提醒用户。

---

## 🌟 长期愿景与体验优化 (Future Vision & QoL)

> **核心目标**: 超越功能本身，通过设计、交互和智能化细节，打造极致的用户体验。

#### 1. 交互与动画 (Interaction & Animation)
*   **目标**: 让应用的每一次交互都充满生命力，感觉更流畅、更自然。
*   **详情**:
    *   **列表动画**: 在任务增、删、排序时，加入平滑的列表动画（如 `Framer Motion`），而不是瞬间变化。
    *   **视图切换动效**: 在“月/日/列表”视图切换时，加入淡入淡出或平移的过渡动画。
    *   **精致的空状态**: 为任务列表、项目列表为空时设计引导性强、视觉友好的空状态提示，鼓励用户开始使用。

#### 2. 专注模式 (Focus Mode)
*   **目标**: 将 TaskCube 与“心流”工作状态相结合，帮助用户专注地完成单个任务。
*   **详情**:
    *   **任务计时器**: 用户可以针对某个特定任务开启“专注模式”，启动一个番茄钟计时器。
    *   **专注统计**: 记录每个任务和项目的总专注时长，为复盘提供数据支持。

#### 3. 复盘与回顾 (Review & Reflection)
*   **目标**: 从“执行”到“成长”，帮助用户回顾过去，规划未来。
*   **详情**:
    *   **“已完成”视图**: 提供一个专门的视图，清晰地展示所有已完成的任务，并可按天、周、月进行筛选和回顾。
    *   **周报/日报生成**: AI 可自动总结一周或一天内完成的任务、专注时长和项目进展，生成一份简报，帮助用户进行复盘。

#### 4. 增强的 AI 助理 (Enhanced AI Assistant)
*   **目标**: 让 AI 更主动、更智能，成为用户的“副驾驶”。
*   **详情**:
    *   **智能分类**: 创建任务时，AI 实时分析标题和描述，自动推荐最合适的`项目`、`优先级`和`四象限`分类。
    *   **“下一步做什么？”**: 在主界面提供一个“AI 建议”按钮，点击后，AI 会综合考虑截止日期、优先级和上下文，推荐当前最应该处理的任务。

#### 5. 主题与个性化 (Theming & Personalization)
*   **目标**: 让用户可以根据自己的喜好，打造独一无二的 TaskCube。
*   **详情**:
    *   **自定义主题色**: 允许用户在设置中选择应用的主题色（如强调色），而不仅仅是黑白模式。
    *   **更丰富的项目颜色**: 提供一个完整的调色板，让用户为项目选择任意颜色。

---

## 🛠️ 架构与技术债 (Tech Debt)

*   **状态管理优化**: 当应用复杂度进一步提升时，考虑引入轻量级状态管理库 (如 `Zustand`) 替代 props drilling。
*   **单元测试**: 补充 `recurringService` 及核心业务逻辑的测试用例。

---

## 🔬 持续优化与技术改进

除了上述的功能路线图，我们还维护一份专门的文档，用于记录那些旨在提升应用**性能、交互细节和架构健壮性**的长期优化点。

这份文档与路线图互为补充，确保 TaskCube 在不断增加新功能的同时，其核心体验和技术质量也得到持续打磨。

👉 **查看详细的 [优化与改进文档](./OPTIMIZATIONS.md)**
