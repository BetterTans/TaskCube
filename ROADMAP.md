# 🚀 TaskCube 开发路线图 (Roadmap)

本文档记录了 TaskCube 项目的迭代历史、未来架构演进方向与功能开发计划。

---

## ✅ 已完成的里程碑

### 阶段一：数据安全与基础体验 (v2.1)
*   **状态**: ✅ 已上线
*   **功能**: 
    *   支持导出 Tasks, Projects, Rules, Settings 为 JSON 文件。
    *   支持从 JSON 文件恢复数据（覆盖模式）。
    *   iOS 风格设计，深色模式适配。

### 阶段二：架构升级 (v2.2)
*   **状态**: ✅ 已上线
*   **方案**: 
    *   引入 **Dexie.js** 替代 LocalStorage，实现了高性能本地持久化。
    *   实现了 `useLiveQuery` 实时响应式数据流。
    *   支持复杂查询（按日期、项目ID索引）。

### 阶段三：表格视图增强与标签系统 (v2.4)
*   **状态**: ✅ 已上线
*   **目标**: 提升了列表模式下的操作效率，减少弹窗干扰。
*   **功能**:
    *   **表格行内编辑**: 实现了项目、优先级、四象限、日期的快速行内修改。
    *   **标签系统**: 新增 "标签" 列，并支持在弹窗内进行标签的增删管理。

### 阶段四：日历与效率核心 (v2.5)
*   **状态**: ✅ 已上线
*   **目标**: 大幅提升应用的交互效率和信息密度。
*   **功能**:
    *   **日历核心重构**: 支持多日事件、项目颜色编码及优先级/四象限可视化。
    *   **全局指令面板**: 通过 `Cmd/Ctrl + K` 快速访问所有核心操作和任务搜索。
    *   **自定义快捷键**: 支持用户在设置中为高频操作自定义键盘快捷键。

### 阶段五：日历与规划体验升级 (v2.6)
*   **状态**: ✅ 已上线
*   **目标**: 将日历从一个简单的展示工具，升级为强大的交互式规划中心。
*   **功能**:
    *   **拖拽调整日程 (Drag & Drop Rescheduling)**: 在日视图中可拖拽调整任务时间与时长，在月视图中可跨天拖动任务。
    *   **事件浮窗详情 (Event Popover)**: 单击日历事件时，弹出小浮窗，快速预览任务详情、完成任务或进入完整编辑。

---

## 🗺️ 未来开发计划

### 阶段五：日历与规划体验升级 (v2.6) - [计划中]

> **核心目标**: 将日历从一个简单的展示工具，升级为强大的交互式规划中心。

#### 1. 四象限看板视图 (Matrix View)
*   **目标**: 新增一个专门的视图，以 2x2 矩阵看板的形式展示艾森豪威尔四象限任务。
*   **详情**: 用户可以直观地看到各象限的任务分布，并支持在象限之间**拖拽任务**来快速调整其分类。

#### 2. AI 智能排程 (AI Smart Scheduling)
*   **目标**: 让 AI 辅助用户决策，解决“时间俄罗斯方块”难题。
*   **详情**: 创建任务时，AI 可分析当天日程的空闲时段，并智能推荐一个最佳的开始时间。

---

### 阶段六：核心功能深化 (v2.7) - [计划中]

> **核心目标**: 从“好用的待办”向“强大的个人项目管理工具”迈进。

#### 1. 任务依赖关系 (Dependencies)
*   **目标**: 允许设置任务之间的前后置关系。
*   **详情**: 实现“任务 B 必须在任务 A 完成后才能开始”的逻辑，为更复杂的项目规划提供支持。

#### 2. 提醒与通知 (Reminders & Notifications)
*   **目标**: 为任务设置到期提醒。
*   **详情**: 利用浏览器 Notification API，在任务开始或截止前弹出系统级通知，确保用户不错过重要事项。

#### 3. 更丰富的反馈机制 (Toasts/Notifications)
*   **目标**: 对用户的操作给予即时、清晰的反馈。
*   **详情**: 在创建任务、保存成功等操作后，在屏幕角落弹出短暂的提示消息（如 "任务已保存"），提升流畅感和确定性。

---

### 🧠 阶段七：AI 2.0 与智能化 (v3.0+) - [远期规划]

#### 1. 每日智能简报 (Smart Agenda)
*   **目标**: 让应用从“工具”变为“智能助理”。
*   **详情**: AI 每天自动分析当日任务、项目DDL及昨日未完成事项，生成一份“今日建议关注”列表，并给出执行建议。

#### 2. 上下文感知 AI (Context-Aware AI)
*   **目标**: 让 AI 的建议更精准、更具个性化。
*   **详情**: 在 AI 请求中注入更多上下文。例如，创建任务时检测到时间冲突并主动提醒用户。

---

## 🛠️ 架构与技术债 (Tech Debt)

*   **列表虚拟化 (Virtualization)**: 当任务量超过 500+ 时，引入 `react-window` 或 `tanstack-virtual` 优化长列表的渲染性能。
*   **状态管理优化**: 当应用复杂度进一步提升时，考虑引入轻量级状态管理库 (如 `Zustand`) 替代 props drilling。
*   **单元测试**: 补充 `recurringService` 及核心业务逻辑的测试用例。